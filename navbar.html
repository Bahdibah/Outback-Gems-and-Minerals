<nav>
  <div class="main-logo" >
    <a href="index.html"><img src="images/logo.png" alt="Outback Gems Logo" class="logo" href="index.html"/></a>
    <h1 class="welcome-message"><a href="index.html" class="welcome-message">Outback Gems & Minerals</a></h1>
  </div>

  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="about.html">About</a></li>
    <li class="dropdown">
      <a href="products.html">Products</a>
      <ul class="dropdown-menu">
        <li><a href="rough-section.html" class="dropdown-header">Rough</a></li>
        <li><a href="rough-sapphire.html">Sapphire</a></li>
        <li><a href="rough-cz.html">Cubic Zirconia</a></li>
        <li><a href="rough-spinel.html">Spinel Rough</a></li>
        <li><a href="rough-zircon.html">Zircon</a></li>
        <li><a href="other-items.html" class="dropdown-header">Other Items</a></li>
        <li><a href="wash-bags.html">Fossicking Wash Bags</a></li>
        <li><a href="thunder-eggs.html">Agate Thunder Eggs</a></li>
        <li><a href="meteorites.html">Meteorites</a></li>
        <li><a href="fluorescents.html">Fluorescent Minerals</a></li>
        <li><a href="mystery-boxes.html">Mystery Mineral Boxes</a></li>
      </ul>
    </li>
    <li><a href="gallery.html">Gallery</a></li>
    <li><a href="contact.html">Contact Us</a></li>
  </ul>

  <div class="nav-search">
    <input type="text" placeholder="Search..." />
    <button><i class="fa fa-search" aria-hidden="true"></i></button>
  </div>

  <div class="options">
    <ul>
      <li>
        <a href="cart.html" class="cart-link">
          <i class="fa fa-shopping-cart" aria-hidden="true" style="color:white"></i>
          <span id="cart-count" style="background-color: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; position: absolute; top: 5px; right: 5px;">0</span>
        </a>
      </li>
    </ul>
  </div>
</nav>

<script>
  // Function to update the cart count in the navbar
  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem("cart")) || [];
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    const cartCountElement = document.getElementById("cart-count");
    if (cartCountElement) {
      cartCountElement.textContent = totalItems;
    }
  }

  // Update the cart count on page load
  updateCartCount();

  // Listen for the custom "cartUpdated" event
  document.addEventListener("cartUpdated", (event) => {
    const cartCountElement = document.getElementById("cart-count");
    if (cartCountElement) {
      cartCountElement.textContent = event.detail.totalItems;
    }
  });
</script>