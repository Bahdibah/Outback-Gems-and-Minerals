<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Outback Gems</title>
  <link rel="stylesheet" href="index.css" />
  <link rel="stylesheet" href="navbar.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

  <header id="navbar-container"></header>

  <section id="home">
    <div class="hero-overlay">
      <h2>Your Destination for Premium Faceting Rough and Australian Gems & Minerals</h2>
      <p>Explore our range of high-quality faceting rough, including synthetic and natural stones, minerals, and a
        variety of faceting and fossicking essentials.</p>
    </div>
  </section>


  <div class="banner-slider">
    <div class="banner">
      <div class="banner-item">
        <p>Free Shipping On Orders Over $100</p>
      </div>
      <div class="banner-item">
        <p>Express Shipping From $14.45</p>
      </div>
      <div class="banner-item">
        <p>Winter Sale: 50% Off All Synthetic Rough</p>
      </div>
    </div>
  </div>

  <section class="about-us">

    <div class="who-we-are">
      <h2>Who We Are</h2>
      <p>Outback Gems & Minerals specializes in gemstone rough, with a focus on natural and synthetic faceting
        materials. We provide high-quality materials that cater to the needs of faceting enthusiasts, hobbyists, and
        collectors.</p>
    </div>

    <div class="what-we-do">
      <h2>What We Do</h2>
      <p>We offer a broad range of products for faceting, fossicking, and collecting, from sapphires and zircons to
        unique minerals and other essentials. Our goal is to make high-quality materials easily accessible for those who
        appreciate the craft and beauty of gemstones.</p>
    </div>


    <!-- <div class="Why-Choose-Usr"> Possibly add in as a Fourth Box 
      <h2>Why Choose Us</h2>
      <p>With firsthand experience in fossicking and faceting, we know what makes quality rough. We handpick stock that delivers both beauty and value to cutters and collectors alike.</p>
  </div> -->


    <div class="what-we-offer">
      <h2>What We Offer</h2>
      <ul>
        <li>Premium Australian sapphires, zircons, garnets & other materials</li>
        <li>High-quality synthetic faceting rough</li>
        <li>Gemstone wash bags for fossicking at home</li>
        <li>A wide range of minerals and related products</li>
      </ul>
    </div>

  </section>

  <section id="bestsellers">
    <div class="content-wrapper">
      <div class="bestselling-header-box">
        <h2 class="bestselling-header">Bestselling Items</h2>
      </div>
      <div class="product-grid">

        <div class="product-card">
          <div class="image-container">
            <img src="images/Rough 4.jpg" alt="Sapphire Rough">
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="product-card">
          <div class="image-container">
            <img src="images/Rough 1.jpg" alt="Sapphire Rough">
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="product-card">
          <div class="image-container">
            <img src="images/Rough 3.jpg" alt="Sapphire Rough">
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>
      </div>
      <button class="view-all-button">View All Products</button>
      </div>
  </section>

  <section class="whats-new-carousel">
    <div class="whats-new-header-box"> <!-- Wrapper for header with box styling -->
      <h2 class="bestselling-header">What's New</h2>
    </div>
    <div class="new-product-grid">
      <div class="carousel-track">

        <div class="new-product-card">
          <div class="image-container">
            <img src="images/Rough 1.jpg" alt="Sapphire Rough" />
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="new-product-card">
          <div class="image-container">
            <img src="images/Rough 2.jpg" alt="Sapphire Rough" />
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="new-product-card">
          <div class="image-container">
            <img src="images/Rough 3.jpg" alt="Sapphire Rough" />
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="new-product-card">
          <div class="image-container">
            <img src="images/Rough 4.jpg" alt="Sapphire Rough" />
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

        <div class="new-product-card">
          <div class="image-container">
            <img src="images/Rough 5.jpg" alt="Sapphire Rough" />
          </div>
          <h3>Australian Sapphire Rough</h3>
          <p>Description of product.</p>
          <div class="product-details">
            <div class="rating">★★★★☆ (24)</div>
            <p class="price">$89.99 <span class="weight">/ 10g</span></p>
          </div>
          <button class="product-button">Add to Cart</button>
        </div>

      </div>
    </div>
    <button class="view-all-button">View All Products</button>
  </section>

  <section class="newsletter-signup">
    <div class="newsletter-container">
      <h2>Sign Up for Our Newsletter</h2>
      <p>Stay updated with the latest news and offers from Outback Gems & Minerals get an email every few blah blah blah
        blha.</p>
      <form action="submit_form.php" method="POST">
        <input type="email" name="email" placeholder="Enter your email" required />
        <button type="submit">Subscribe</button>
      </form>
    </div>
  </section>


  <footer>
    <div class="footer-left">
      <p><a href="Privacy Policy.docx" target="_blank">Privacy Policy</a></p>
      <p><a href="Terms of Use.docx" target="_blank">Terms Of Use</a></p>
    </div>
    <div class="footer-middle">
      <p>&copy; 2025 Outback Gems & Minerals. All rights reserved.</p>
      <P>ABN: 0123456789</P>
    </div>
    <div class="footer-right">
      <p><a href="outbackgems@outlook.com"><i class="fa fa-envelope" aria-hidden="true" style="color:white"></i></a></p>
      <p><a href="https://www.facebook.com/"><i class="fa fa-facebook-square" aria-hidden="true"
            style="color:white"></i></a></p>
    </div>
  </footer>

  <script src="navbar.js"></script>
  
  <script>
  // Background image rotation
  const images = ["images/Banner 1.jpg", "images/Banner 2.jpg", "images/Banner 3.jpg", "images/Banner 4.jpg"];
    let current = 0;

    setInterval(() => {
      current = (current + 1) % images.length;
      document.getElementById("home").style.backgroundImage = `url('${images[current]}')`;
    }, 15000); // Change image every 15 seconds

    // #region banner carousel script
    const itemTrack = document.querySelector('.banner');
    const items = document.querySelectorAll('.banner-item');
    const visibleMessages = 1;
    let itemIndex = 0;
  
    // Clone first item(s) and append to end only if there are enough items
    if (items.length > visibleMessages) {
      for (let i = 0; i < visibleMessages; i++) {
        const clone = items[i].cloneNode(true);
        itemTrack.appendChild(clone);
      }
    }
  
    const totalItems = document.querySelectorAll('.banner-item').length;
    setInterval(() => {
      itemIndex++;
      itemTrack.style.transition = 'transform 0.7s ease-in-out';
      itemTrack.style.transform = `translateX(-${itemIndex * 100}%)`;
  
      if (itemIndex === totalItems - visibleMessages) {
        setTimeout(() => {
          itemTrack.style.transition = 'none';
          itemTrack.style.transform = `translateX(0%)`;
          itemIndex = 0;
        }, 700); // Match the transition duration
      }
    }, 5000);
    // #endregion
  
    // #region whats new carousel script
    const productTrack = document.querySelector('.carousel-track');
    const products = document.querySelectorAll('.new-product-card');
    const visibleCount = 3;
    let productIndex = 0;
  
    // Clone first visibleCount cards and append to the end only if there are enough cards
    if (products.length > visibleCount) {
      for (let i = 0; i < visibleCount; i++) {
        const clone = products[i].cloneNode(true);
        productTrack.appendChild(clone);
      }
    }
  
    const totalCards = document.querySelectorAll('.new-product-card').length;
    const cardWidth = 100 / totalCards;
    setInterval(() => {
      productIndex++;
      productTrack.style.transition = 'transform 0.7s ease-in-out';
      productTrack.style.transform = `translateX(-${productIndex * (100 / visibleCount)}%)`;
  
      // Reset position after animation if clone limit reached
      if (productIndex === products.length) {
        setTimeout(() => {
          productTrack.style.transition = 'none';
          productTrack.style.transform = `translateX(0%)`;
          productIndex = 0;
        }, 700); // Match the transition duration
      }
    }, 7000); // Rotate every 7 seconds
    // #endregion
  
      // Newsletter form validation
  document.querySelector('.newsletter-container form').addEventListener('submit', function (e) {
    e.preventDefault(); // Prevent the default form submission

    const emailInput = document.querySelector('input[name="email"]');
    const email = emailInput.value.trim();
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Basic email validation regex

    if (!emailRegex.test(email)) {
      alert('Please enter a valid email address.');
      return;
    }

    // Simulate successful submission
    alert('Thank you for subscribing!');
    emailInput.value = ''; // Clear the input field
  });
  
    // Dynamically load the shared navbar
    document.addEventListener('DOMContentLoaded', () => {
      fetch('navbar.html') // Ensure the file path is correct
        .then(response => {
          if (!response.ok) {
            throw new Error(`Failed to load navbar. Status: ${response.status}`);
          }
          return response.text();
        })
        .then(data => {
          document.querySelector('header').innerHTML = data;
        })
        .catch(error => {
          console.error('Error loading navbar:', error);
          document.querySelector('header').innerHTML = '<p style="color: red;">Failed to load navbar. Please try again later.</p>';
        });
    });
  
    // Dynamically load the navbar
    document.addEventListener("DOMContentLoaded", () => {
      fetch("navbar.html")
        .then(response => {
          if (!response.ok) {
            throw new Error(`Failed to load navbar. Status: ${response.status}`);
          }
          return response.text();
        })
        .then(html => {
          const navbarContainer = document.querySelector("header") || document.getElementById("navbar-container");
          if (navbarContainer) {
            navbarContainer.innerHTML = html;

            // Update the cart count and dropdown after the navbar is loaded
            updateCartCount();
            updateCartDropdown();
          }
        })
        .catch(error => {
          console.error("Error loading navbar:", error);
        });
    });

    // Function to update the cart count
    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      const cartCountElement = document.getElementById("cart-count");

      if (cartCountElement) {
        cartCountElement.textContent = totalItems;
      } else {
        console.error("Cart count element not found in the navbar.");
      }
    }

    // Function to update the cart dropdown
    function updateCartDropdown() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const cartItemsList = document.getElementById("cart-items-list");
      const cartMessage = document.getElementById("cart-message");
      const cartSubtotal = document.getElementById("cart-subtotal");
      const cartTotal = document.getElementById("cart-total");

      if (!cartItemsList || !cartMessage || !cartSubtotal || !cartTotal) {
        console.error("Cart dropdown elements not found in the DOM.");
        return;
      }

      if (cart.length === 0) {
        cartMessage.textContent = "Your cart is empty.";
        cartItemsList.innerHTML = "";
        cartSubtotal.textContent = "$0.00";
        cartTotal.textContent = "$0.00";
        return;
      }

      let subtotal = 0;
      cartItemsList.innerHTML = ""; // Clear existing items

      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        subtotal += itemTotal;

        const cartItem = document.createElement("div");
        cartItem.classList.add("cart-item");

        cartItem.innerHTML = `
          <img src="${item.image}" alt="${item.name}" style="width: 50px; height: 50px; object-fit: cover; margin-right: 10px;">
          <div class="cart-item-details">
            <span class="product-name">${item.name}</span>
            <span class="product-code">Code: ${item.id}</span>
            <span class="product-quantity">Qty: ${item.quantity}</span>
          </div>
          <div class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</div>
        `;

        cartItemsList.appendChild(cartItem);
      });

      cartMessage.textContent = `You currently have ${cart.length} items in your cart.`;
      cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
      cartTotal.textContent = `$${subtotal.toFixed(2)}`;
    }

    // Listen for cart updates and refresh the dropdown
    document.addEventListener("cartUpdated", () => {
      updateCartCount();
      updateCartDropdown();
    });

  </script>
</body>

</html>