<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Basic SEO Meta Tags -->
  <meta name="keywords" content="sitemap, Outback Gems, gemstone directory, website navigation, Australian minerals">
  <meta name="author" content="Outback Gems & Minerals">
  <meta http-equiv="content-language" content="en-au">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://outbackgems.com.au/sitemap.html">
  <meta property="og:title" content="Site Map | Outback Gems & Minerals">
  <meta property="og:description" content="Navigate all pages of Outback Gems & Minerals through our comprehensive sitemap.">
  <meta property="og:image" content="https://outbackgems.com.au/images/general/Facebook%20Logo.jpg">
  <meta property="og:site_name" content="Outback Gems & Minerals">
  <meta property="og:locale" content="en_AU">
  <meta property="article:publisher" content="https://www.facebook.com/profile.php?id=61576738875731">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://outbackgems.com.au/sitemap.html">
  <meta name="twitter:title" content="Site Map | Outback Gems & Minerals">
  <meta name="twitter:description" content="Navigate all pages of Outback Gems & Minerals through our comprehensive sitemap.">
  <meta name="twitter:image" content="https://outbackgems.com.au/images/general/Twitter%20Logo.jpg">

  <!-- Security/Browser Meta Tags -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <title>Site Map | Outback Gems & Minerals</title>
  <meta name="description" content="Navigate all pages of Outback Gems & Minerals through our comprehensive sitemap.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://outbackgems.com.au/sitemap.html" />
  <link rel="stylesheet" href="navbar.css" />
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <link rel="stylesheet" href="index.css" />
  <style>
    .sitemap-container {
      max-width: 1200px;
      margin: 110px auto auto auto;
      padding: 0 20px;
      min-height: calc(100vh - 200px);
    }
    .sitemap-section {
      margin-bottom: 30px;
    }
    .sitemap-section h2 {
      color: #cc5500;
      border-bottom: 2px solid #cc5500;
      padding-bottom: 10px;
      margin-bottom: 15px;
    }
    .sitemap-list {
      list-style-type: none;
      padding-left: 20px;
    }
    .sitemap-list li {
      margin-bottom: 8px;
    }
    .sitemap-list a {
      color: #bfbfbfd2;
      text-decoration: none;
      font-size: 16px;
      transition: color 0.3s;
    }
    .sitemap-list a:hover {
      color: #cc5500;
      text-decoration: underline;
    }
    .loading-message {
      color: #cc5500;
      font-style: italic;
      text-align: center;
      padding: 20px;
    }
    /* Footer always at the bottom */
    footer {
      flex-shrink: 0;
      width: 100%;
    }
    @media (max-width: 700px) {
      .footer-left {
        display: flex;
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header id="navbar-container"></header>
  <script src="navbar.js"></script>
  
  <div class="sitemap-container">
    <h1>Site Map</h1>
    
    <div class="sitemap-section">
      <h2>Main Pages</h2>
      <ul class="sitemap-list">
        <li><a href="/">Home</a></li>
        <li><a href="products.html">All Products</a></li>
        <li><a href="natural.html">Natural Products</a></li>
        <li><a href="synthetic.html">Synthetic Products</a></li>
        <li><a href="other.html">Other Products</a></li>
        <li><a href="contact.html">Contact Us</a></li>
      </ul>
    </div>

    <!-- Dynamic Product Categories Section -->
    <div class="sitemap-section">
      <h2>Product Categories</h2>
      <ul class="sitemap-list" id="sitemap-categories-list">
        <li class="loading-message">Loading categories...</li>
      </ul>
    </div>

    <!-- Dynamic Individual Products Section -->
    <div class="sitemap-section">
      <h2>Individual Products</h2>
      <ul class="sitemap-list" id="sitemap-products-list">
        <li class="loading-message">Loading products...</li>
      </ul>
    </div>

    <div class="sitemap-section">
      <h2>Legal Information</h2>
      <ul class="sitemap-list">
        <li><a href="privacypolicy.html">Privacy Policy</a></li>
        <li><a href="termsofuse.html">Terms of Use</a></li>
        <li><a href="sitemap.html">Site Map</a></li>
      </ul>
    </div>
  </div>
  
  <footer>
    <div class="footer-left">
      <p><a href="privacypolicy.html">Privacy Policy</a></p>
      <p><a href="termsofuse.html">Terms Of Use</a></p>
      <p><a href="sitemap.html">Site Map</a></p>
    </div>
    <div class="footer-middle">
      <p>&copy; 2025 Outback Gems &amp; Minerals. All rights reserved.</p>
      <p>ABN: 53 418 745 121</p>
    </div>
    <div class="footer-right">
      <p><a href="mailto:support@outbackgems.com.au"><i class="fa fa-envelope" aria-hidden="true" style="color:white"></i></a></p>
      <p><a href="https://www.facebook.com/profile.php?id=61576738875731"><i class="fa fa-facebook-square" aria-hidden="true"
            style="color:white"></i></a></p>
    </div>
  </footer>
  
  <script src="productCache.js"></script>
  <script>
    // Function to format category names for display
    function formatCategoryName(category) {
      return category
        .replace(/-/g, ' ')
        .replace(/\b\w/g, l => l.toUpperCase());
    }

    // Function to add links to lists
    function addLinkToList(listId, href, text) {
      const ul = document.getElementById(listId);
      if (!ul) return;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = href;
      a.textContent = text;
      li.appendChild(a);
      ul.appendChild(li);
    }

    // Load and populate dynamic content
    async function populateSitemap() {
      try {
        const products = await getProductData();
        const categoriesList = document.getElementById('sitemap-categories-list');
        const productsList = document.getElementById('sitemap-products-list');
        
        // Clear loading messages
        categoriesList.innerHTML = '';
        productsList.innerHTML = '';
        
        // Get unique categories
        const categories = new Set();
        const uniqueProducts = [];
        const seenProductIds = new Set();
        
        products.forEach(product => {
          // Track unique products
          if (!seenProductIds.has(product["product id"])) {
            seenProductIds.add(product["product id"]);
            uniqueProducts.push(product);
          }
          
          // Track categories (excluding multi-category products)
          if (product.category && !product.category.includes(',')) {
            categories.add(product.category);
          }
        });
        
        // Sort categories alphabetically
        const sortedCategories = Array.from(categories).sort();
        
        // Add category links
        sortedCategories.forEach(category => {
          const displayName = formatCategoryName(category);
          addLinkToList(
            'sitemap-categories-list',
            `products.html?category=${encodeURIComponent(category)}`,
            displayName
          );
        });
        
        // Sort products by name
        uniqueProducts.sort((a, b) => (a["product name"] || '').localeCompare(b["product name"] || ''));
        
        // Add product links
        uniqueProducts.forEach(product => {
          if (product["product id"] && product["product name"]) {
            addLinkToList(
              'sitemap-products-list',
              `view-product.html?productid=${encodeURIComponent(product["product id"])}`,
              product["product name"]
            );
          }
        });
        
        // If no categories found, show message
        if (sortedCategories.length === 0) {
          categoriesList.innerHTML = '<li style="color: #999; font-style: italic;">No categories available</li>';
        }
        
        // If no products found, show message
        if (uniqueProducts.length === 0) {
          productsList.innerHTML = '<li style="color: #999; font-style: italic;">No products available</li>';
        }
        
      } catch (error) {
        console.error('Error loading sitemap data:', error);
        document.getElementById('sitemap-categories-list').innerHTML = 
          '<li style="color: #cc5500;">Error loading categories</li>';
        document.getElementById('sitemap-products-list').innerHTML = 
          '<li style="color: #cc5500;">Error loading products</li>';
      }
    }

    // Initialize sitemap when page loads
    document.addEventListener('DOMContentLoaded', populateSitemap);
  </script>
</body>
</html>